<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lean: QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lean
   &#160;<span id="projectnumber">$LEAN_TAG$</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides a base class for implementations of <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroupBuyingPowerModel.html" title="Represents a position group&#39;s model of buying power">IPositionGroupBuyingPowerModel</a>  
 <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel__inherit__graph.svg" width="100%" height="410"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa57ef304761075bc00ed73b068d9e131"><td class="memItemLeft" align="right" valign="top">abstract <a class="el" href="classQuantConnect_1_1Securities_1_1MaintenanceMargin.html">MaintenanceMargin</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#aa57ef304761075bc00ed73b068d9e131">GetMaintenanceMargin</a> (<a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupMaintenanceMarginParameters.html">PositionGroupMaintenanceMarginParameters</a> parameters)</td></tr>
<tr class="memdesc:aa57ef304761075bc00ed73b068d9e131"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the margin currently allocated to the specified holding  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#aa57ef304761075bc00ed73b068d9e131">More...</a><br /></td></tr>
<tr class="separator:aa57ef304761075bc00ed73b068d9e131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45d8931cc09f19c0450c6862339a2320"><td class="memItemLeft" align="right" valign="top">abstract <a class="el" href="classQuantConnect_1_1Securities_1_1InitialMargin.html">InitialMargin</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a45d8931cc09f19c0450c6862339a2320">GetInitialMarginRequirement</a> (<a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupInitialMarginParameters.html">PositionGroupInitialMarginParameters</a> parameters)</td></tr>
<tr class="memdesc:a45d8931cc09f19c0450c6862339a2320"><td class="mdescLeft">&#160;</td><td class="mdescRight">The margin that must be held in order to increase the position by the provided quantity  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a45d8931cc09f19c0450c6862339a2320">More...</a><br /></td></tr>
<tr class="separator:a45d8931cc09f19c0450c6862339a2320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa537586906d76978f609aa41013dfcec"><td class="memItemLeft" align="right" valign="top">abstract <a class="el" href="classQuantConnect_1_1Securities_1_1InitialMargin.html">InitialMargin</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#aa537586906d76978f609aa41013dfcec">GetInitialMarginRequiredForOrder</a> (<a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupInitialMarginForOrderParameters.html">PositionGroupInitialMarginForOrderParameters</a> parameters)</td></tr>
<tr class="memdesc:aa537586906d76978f609aa41013dfcec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the total margin required to execute the specified order in units of the account currency including fees  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#aa537586906d76978f609aa41013dfcec">More...</a><br /></td></tr>
<tr class="separator:aa537586906d76978f609aa41013dfcec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ebdec8273daf2696d814738acfa211"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1ReservedBuyingPowerImpact.html">ReservedBuyingPowerImpact</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#aa9ebdec8273daf2696d814738acfa211">GetReservedBuyingPowerImpact</a> (<a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1ReservedBuyingPowerImpactParameters.html">ReservedBuyingPowerImpactParameters</a> parameters)</td></tr>
<tr class="memdesc:aa9ebdec8273daf2696d814738acfa211"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the impact on the portfolio's buying power from adding the position group to the portfolio. This is a 'what if' analysis to determine what the state of the portfolio would be if these changes were applied. The delta (before - after) is the margin requirement for adding the positions and if the margin used after the changes are applied is less than the total portfolio value, this indicates sufficient capital.  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#aa9ebdec8273daf2696d814738acfa211">More...</a><br /></td></tr>
<tr class="separator:aa9ebdec8273daf2696d814738acfa211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9443d3b032f7520dfe544b1542b005e8"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classQuantConnect_1_1Securities_1_1HasSufficientBuyingPowerForOrderResult.html">HasSufficientBuyingPowerForOrderResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a9443d3b032f7520dfe544b1542b005e8">HasSufficientBuyingPowerForOrder</a> (<a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1HasSufficientPositionGroupBuyingPowerForOrderParameters.html">HasSufficientPositionGroupBuyingPowerForOrderParameters</a> parameters)</td></tr>
<tr class="memdesc:a9443d3b032f7520dfe544b1542b005e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there is sufficient buying power for the position group to execute this order.  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a9443d3b032f7520dfe544b1542b005e8">More...</a><br /></td></tr>
<tr class="separator:a9443d3b032f7520dfe544b1542b005e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9306785e8b001829233b64cd9a6d3d1e"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1ReservedBuyingPowerForPositionGroup.html">ReservedBuyingPowerForPositionGroup</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a9306785e8b001829233b64cd9a6d3d1e">GetReservedBuyingPowerForPositionGroup</a> (<a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1ReservedBuyingPowerForPositionGroupParameters.html">ReservedBuyingPowerForPositionGroupParameters</a> parameters)</td></tr>
<tr class="memdesc:a9306785e8b001829233b64cd9a6d3d1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the amount of buying power reserved by the provided position group  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a9306785e8b001829233b64cd9a6d3d1e">More...</a><br /></td></tr>
<tr class="separator:a9306785e8b001829233b64cd9a6d3d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ffef28c266745b259088113c3b04459"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1GetMaximumLotsResult.html">GetMaximumLotsResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a6ffef28c266745b259088113c3b04459">GetMaximumLotsForTargetBuyingPower</a> (<a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1GetMaximumLotsForTargetBuyingPowerParameters.html">GetMaximumLotsForTargetBuyingPowerParameters</a> parameters)</td></tr>
<tr class="memdesc:a6ffef28c266745b259088113c3b04459"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maximum position group order quantity to obtain a position with a given buying power percentage. Will not take into account free buying power.  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a6ffef28c266745b259088113c3b04459">More...</a><br /></td></tr>
<tr class="separator:a6ffef28c266745b259088113c3b04459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc9b4d24eebe829eda4d4fe1e4b10126"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1GetMaximumLotsResult.html">GetMaximumLotsResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#abc9b4d24eebe829eda4d4fe1e4b10126">GetMaximumLotsForDeltaBuyingPower</a> (<a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1GetMaximumLotsForDeltaBuyingPowerParameters.html">GetMaximumLotsForDeltaBuyingPowerParameters</a> parameters)</td></tr>
<tr class="memdesc:abc9b4d24eebe829eda4d4fe1e4b10126"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maximum market position group order quantity to obtain a delta in the buying power used by a position group. The deltas sign defines the position side to apply it to, positive long, negative short.  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#abc9b4d24eebe829eda4d4fe1e4b10126">More...</a><br /></td></tr>
<tr class="separator:abc9b4d24eebe829eda4d4fe1e4b10126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53f72f99e03b8f529f64d92566a2e265"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPower.html">PositionGroupBuyingPower</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a53f72f99e03b8f529f64d92566a2e265">GetPositionGroupBuyingPower</a> (<a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerParameters.html">PositionGroupBuyingPowerParameters</a> parameters)</td></tr>
<tr class="memdesc:a53f72f99e03b8f529f64d92566a2e265"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the buying power available for a position group trade  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a53f72f99e03b8f529f64d92566a2e265">More...</a><br /></td></tr>
<tr class="separator:a53f72f99e03b8f529f64d92566a2e265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a758a61819084622bceef7aa84483dd49"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a758a61819084622bceef7aa84483dd49">Equals</a> (<a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroupBuyingPowerModel.html">IPositionGroupBuyingPowerModel</a> other)</td></tr>
<tr class="memdesc:a758a61819084622bceef7aa84483dd49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates whether the current object is equal to another object of the same type.  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a758a61819084622bceef7aa84483dd49">More...</a><br /></td></tr>
<tr class="separator:a758a61819084622bceef7aa84483dd49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a306e790a5d3aa3ccabaf22c76ae5468f"><td class="memItemLeft" align="right" valign="top">override bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a306e790a5d3aa3ccabaf22c76ae5468f">Equals</a> (object obj)</td></tr>
<tr class="memdesc:a306e790a5d3aa3ccabaf22c76ae5468f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether the specified object is equal to the current object.  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a306e790a5d3aa3ccabaf22c76ae5468f">More...</a><br /></td></tr>
<tr class="separator:a306e790a5d3aa3ccabaf22c76ae5468f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5aaf61641333aa05d3abd0a964b4c65"><td class="memItemLeft" align="right" valign="top">override int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#ac5aaf61641333aa05d3abd0a964b4c65">GetHashCode</a> ()</td></tr>
<tr class="memdesc:ac5aaf61641333aa05d3abd0a964b4c65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serves as the default hash function.  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#ac5aaf61641333aa05d3abd0a964b4c65">More...</a><br /></td></tr>
<tr class="separator:ac5aaf61641333aa05d3abd0a964b4c65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7185827d6383c14ab673bffe0ccbc6f"><td class="memItemLeft" align="right" valign="top">decimal&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#ae7185827d6383c14ab673bffe0ccbc6f">GetPositionGroupOrderQuantity</a> (<a class="el" href="classQuantConnect_1_1Securities_1_1SecurityPortfolioManager.html">SecurityPortfolioManager</a> portfolio, <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroup.html">IPositionGroup</a> currentPositionGroup, decimal currentUsedMargin, decimal targetFinalMargin, <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroup.html">IPositionGroup</a> groupUnit, decimal unitMargin, out decimal finalMargin)</td></tr>
<tr class="memdesc:ae7185827d6383c14ab673bffe0ccbc6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method that determines the amount to order to get to a given target safely. Meaning it will either be at or just below target always.  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#ae7185827d6383c14ab673bffe0ccbc6f">More...</a><br /></td></tr>
<tr class="separator:ae7185827d6383c14ab673bffe0ccbc6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ab24910a675361dd89238690afb282b5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#ab24910a675361dd89238690afb282b5f">PositionGroupBuyingPowerModel</a> (decimal requiredFreeBuyingPowerPercent=0m)</td></tr>
<tr class="memdesc:ab24910a675361dd89238690afb282b5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new instance of the <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html" title="Provides a base class for implementations of IPositionGroupBuyingPowerModel">PositionGroupBuyingPowerModel</a> class  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#ab24910a675361dd89238690afb282b5f">More...</a><br /></td></tr>
<tr class="separator:ab24910a675361dd89238690afb282b5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf81c6236112687d1b9375437d7f6ea1"><td class="memItemLeft" align="right" valign="top">virtual decimal&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#acf81c6236112687d1b9375437d7f6ea1">GetContemplatedGroupsInitialMargin</a> (<a class="el" href="classQuantConnect_1_1Securities_1_1SecurityPortfolioManager.html">SecurityPortfolioManager</a> portfolio, <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupCollection.html">PositionGroupCollection</a> contemplatedGroups, List&lt; <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPosition.html">IPosition</a> &gt; ordersPositions)</td></tr>
<tr class="memdesc:acf81c6236112687d1b9375437d7f6ea1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the initial margin required for the specified contemplated position group. Used by <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#aa9ebdec8273daf2696d814738acfa211" title="Computes the impact on the portfolio&#39;s buying power from adding the position group to the portfolio....">GetReservedBuyingPowerImpact</a> to get the contemplated groups margin.  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#acf81c6236112687d1b9375437d7f6ea1">More...</a><br /></td></tr>
<tr class="separator:acf81c6236112687d1b9375437d7f6ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f564c5c992aa07516092f1655209e31"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classQuantConnect_1_1Securities_1_1HasSufficientBuyingPowerForOrderResult.html">HasSufficientBuyingPowerForOrderResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a6f564c5c992aa07516092f1655209e31">PassesPositionGroupSpecificBuyingPowerForOrderChecks</a> (<a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1HasSufficientPositionGroupBuyingPowerForOrderParameters.html">HasSufficientPositionGroupBuyingPowerForOrderParameters</a> parameters, decimal availableBuyingPower)</td></tr>
<tr class="memdesc:a6f564c5c992aa07516092f1655209e31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides a mechanism for derived types to add their own buying power for order checks without needing to recompute the available buying power. Implementations should return null if all checks pass and should return an instance of <a class="el" href="classQuantConnect_1_1Securities_1_1HasSufficientBuyingPowerForOrderResult.html" title="Contains the information returned by IBuyingPowerModel.HasSufficientBuyingPowerForOrder">HasSufficientBuyingPowerForOrderResult</a> with IsSufficient=false if it fails.  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a6f564c5c992aa07516092f1655209e31">More...</a><br /></td></tr>
<tr class="separator:a6f564c5c992aa07516092f1655209e31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1af0926a15a0ee69add961a20e47f8b"><td class="memItemLeft" align="right" valign="top">virtual decimal&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#aa1af0926a15a0ee69add961a20e47f8b">ToAccountCurrency</a> (<a class="el" href="classQuantConnect_1_1Securities_1_1SecurityPortfolioManager.html">SecurityPortfolioManager</a> portfolio, <a class="el" href="structQuantConnect_1_1Securities_1_1CashAmount.html">CashAmount</a> cash)</td></tr>
<tr class="memdesc:aa1af0926a15a0ee69add961a20e47f8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to convert a <a class="el" href="structQuantConnect_1_1Securities_1_1CashAmount.html" title="Represents a cash amount which can be converted to account currency using a currency converter">CashAmount</a> to the account currency  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#aa1af0926a15a0ee69add961a20e47f8b">More...</a><br /></td></tr>
<tr class="separator:aa1af0926a15a0ee69add961a20e47f8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0abd65c6e261960e78a710ee75b79143"><td class="memItemLeft" align="right" valign="top">virtual decimal&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a0abd65c6e261960e78a710ee75b79143">GetOrderFeeInAccountCurrency</a> (<a class="el" href="classQuantConnect_1_1Securities_1_1SecurityPortfolioManager.html">SecurityPortfolioManager</a> portfolio, <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroup.html">IPositionGroup</a> positionGroup)</td></tr>
<tr class="memdesc:a0abd65c6e261960e78a710ee75b79143"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to compute the order fees associated with executing market orders for the specified <em>positionGroup</em>   <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a0abd65c6e261960e78a710ee75b79143">More...</a><br /></td></tr>
<tr class="separator:a0abd65c6e261960e78a710ee75b79143"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a9d3b06b5a2fbdfcd174be1292eade9d3"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a9d3b06b5a2fbdfcd174be1292eade9d3">UnableToConverge</a> (decimal currentMarginDifference, decimal lastMarginDifference, <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroup.html">IPositionGroup</a> groupUnit, <a class="el" href="classQuantConnect_1_1Securities_1_1SecurityPortfolioManager.html">SecurityPortfolioManager</a> portfolio, decimal positionGroupQuantity, decimal targetMargin, decimal currentMargin, decimal absUnitMargin, out ArgumentException error)</td></tr>
<tr class="memdesc:a9d3b06b5a2fbdfcd174be1292eade9d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the margin difference is not growing in final margin calculation, just making sure we don't end up in an infinite loop. This function was split out to support derived types using the same error message as well as removing the added noise of the check and message creation.  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#a9d3b06b5a2fbdfcd174be1292eade9d3">More...</a><br /></td></tr>
<tr class="separator:a9d3b06b5a2fbdfcd174be1292eade9d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:aaddb910fcd1299e65d8dd420cd565d24"><td class="memItemLeft" align="right" valign="top">decimal&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#aaddb910fcd1299e65d8dd420cd565d24">RequiredFreeBuyingPowerPercent</a><code> [get]</code></td></tr>
<tr class="memdesc:aaddb910fcd1299e65d8dd420cd565d24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the percentage of portfolio buying power to leave as a buffer  <a href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#aaddb910fcd1299e65d8dd420cd565d24">More...</a><br /></td></tr>
<tr class="separator:aaddb910fcd1299e65d8dd420cd565d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides a base class for implementations of <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroupBuyingPowerModel.html" title="Represents a position group&#39;s model of buying power">IPositionGroupBuyingPowerModel</a> </p>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00029">29</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab24910a675361dd89238690afb282b5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab24910a675361dd89238690afb282b5f">&#9670;&nbsp;</a></span>PositionGroupBuyingPowerModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.PositionGroupBuyingPowerModel </td>
          <td>(</td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>requiredFreeBuyingPowerPercent</em> = <code>0m</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes a new instance of the <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html" title="Provides a base class for implementations of IPositionGroupBuyingPowerModel">PositionGroupBuyingPowerModel</a> class </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">requiredFreeBuyingPowerPercent</td><td>The percentage of portfolio buying power to leave as a buffer</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00040">40</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa57ef304761075bc00ed73b068d9e131"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa57ef304761075bc00ed73b068d9e131">&#9670;&nbsp;</a></span>GetMaintenanceMargin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">abstract <a class="el" href="classQuantConnect_1_1Securities_1_1MaintenanceMargin.html">MaintenanceMargin</a> QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.GetMaintenanceMargin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupMaintenanceMarginParameters.html">PositionGroupMaintenanceMarginParameters</a>&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the margin currently allocated to the specified holding </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parameters</td><td>An object containing the security</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The maintenance margin required for the </dd></dl>

<p>Implements <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroupBuyingPowerModel.html#a9d9a16268e19aec274811e365ead8350">QuantConnect.Securities.Positions.IPositionGroupBuyingPowerModel</a>.</p>

<p>Implemented in <a class="el" href="classQuantConnect_1_1Securities_1_1Option_1_1OptionStrategyPositionGroupBuyingPowerModel.html#a49a467b8e4e89f17eb7fb95fc318ff76">QuantConnect.Securities.Option.OptionStrategyPositionGroupBuyingPowerModel</a>, and <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1SecurityPositionGroupBuyingPowerModel.html#aba3ed42060cae1cbbf3e068f3a43c9c8">QuantConnect.Securities.Positions.SecurityPositionGroupBuyingPowerModel</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_aa57ef304761075bc00ed73b068d9e131_icgraph.svg" width="612" height="82"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a45d8931cc09f19c0450c6862339a2320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45d8931cc09f19c0450c6862339a2320">&#9670;&nbsp;</a></span>GetInitialMarginRequirement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">abstract <a class="el" href="classQuantConnect_1_1Securities_1_1InitialMargin.html">InitialMargin</a> QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.GetInitialMarginRequirement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupInitialMarginParameters.html">PositionGroupInitialMarginParameters</a>&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The margin that must be held in order to increase the position by the provided quantity </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parameters</td><td>An object containing the security and quantity</td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroupBuyingPowerModel.html#a325eea022198c2919c4d06baea941ea1">QuantConnect.Securities.Positions.IPositionGroupBuyingPowerModel</a>.</p>

<p>Implemented in <a class="el" href="classQuantConnect_1_1Securities_1_1Option_1_1OptionStrategyPositionGroupBuyingPowerModel.html#abf48b9fd6f6e94bf46b02bed00a49482">QuantConnect.Securities.Option.OptionStrategyPositionGroupBuyingPowerModel</a>, and <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1SecurityPositionGroupBuyingPowerModel.html#a884bb7d189028e450a59ee17e7a65e9d">QuantConnect.Securities.Positions.SecurityPositionGroupBuyingPowerModel</a>.</p>

</div>
</div>
<a id="aa537586906d76978f609aa41013dfcec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa537586906d76978f609aa41013dfcec">&#9670;&nbsp;</a></span>GetInitialMarginRequiredForOrder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">abstract <a class="el" href="classQuantConnect_1_1Securities_1_1InitialMargin.html">InitialMargin</a> QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.GetInitialMarginRequiredForOrder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupInitialMarginForOrderParameters.html">PositionGroupInitialMarginForOrderParameters</a>&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the total margin required to execute the specified order in units of the account currency including fees </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parameters</td><td>An object containing the portfolio, the security and the order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The total margin in terms of the currency quoted in the order</dd></dl>

<p>Implements <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroupBuyingPowerModel.html#a44d332cb5f6cd40758e21cb5bdc85990">QuantConnect.Securities.Positions.IPositionGroupBuyingPowerModel</a>.</p>

<p>Implemented in <a class="el" href="classQuantConnect_1_1Securities_1_1Option_1_1OptionStrategyPositionGroupBuyingPowerModel.html#a2d9855757dd79a4cfa4705183e96f2b9">QuantConnect.Securities.Option.OptionStrategyPositionGroupBuyingPowerModel</a>, and <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1SecurityPositionGroupBuyingPowerModel.html#a47e76ee214bf332b9fed03d1577c27e6">QuantConnect.Securities.Positions.SecurityPositionGroupBuyingPowerModel</a>.</p>

</div>
</div>
<a id="aa9ebdec8273daf2696d814738acfa211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9ebdec8273daf2696d814738acfa211">&#9670;&nbsp;</a></span>GetReservedBuyingPowerImpact()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1ReservedBuyingPowerImpact.html">ReservedBuyingPowerImpact</a> QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.GetReservedBuyingPowerImpact </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1ReservedBuyingPowerImpactParameters.html">ReservedBuyingPowerImpactParameters</a>&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the impact on the portfolio's buying power from adding the position group to the portfolio. This is a 'what if' analysis to determine what the state of the portfolio would be if these changes were applied. The delta (before - after) is the margin requirement for adding the positions and if the margin used after the changes are applied is less than the total portfolio value, this indicates sufficient capital. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parameters</td><td>An object containing the portfolio and a position group containing the contemplated changes to the portfolio</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the portfolio's total portfolio value and margin used before and after the position changes are applied</dd></dl>

<p>Implements <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroupBuyingPowerModel.html#aa62244d68289e01009766dec6016c2b3">QuantConnect.Securities.Positions.IPositionGroupBuyingPowerModel</a>.</p>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00074">74</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_aa9ebdec8273daf2696d814738acfa211_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_aa9ebdec8273daf2696d814738acfa211_icgraph.svg" width="656" height="82"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="acf81c6236112687d1b9375437d7f6ea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf81c6236112687d1b9375437d7f6ea1">&#9670;&nbsp;</a></span>GetContemplatedGroupsInitialMargin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual decimal QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.GetContemplatedGroupsInitialMargin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuantConnect_1_1Securities_1_1SecurityPortfolioManager.html">SecurityPortfolioManager</a>&#160;</td>
          <td class="paramname"><em>portfolio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupCollection.html">PositionGroupCollection</a>&#160;</td>
          <td class="paramname"><em>contemplatedGroups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List&lt; <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPosition.html">IPosition</a> &gt;&#160;</td>
          <td class="paramname"><em>ordersPositions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the initial margin required for the specified contemplated position group. Used by <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html#aa9ebdec8273daf2696d814738acfa211" title="Computes the impact on the portfolio&#39;s buying power from adding the position group to the portfolio....">GetReservedBuyingPowerImpact</a> to get the contemplated groups margin. </p>

<p>Reimplemented in <a class="el" href="classQuantConnect_1_1Securities_1_1Option_1_1OptionStrategyPositionGroupBuyingPowerModel.html#a711e971d748ffd9a367742af79a01995">QuantConnect.Securities.Option.OptionStrategyPositionGroupBuyingPowerModel</a>.</p>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00133">133</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_acf81c6236112687d1b9375437d7f6ea1_icgraph.svg" width="100%" height="361"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a9443d3b032f7520dfe544b1542b005e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9443d3b032f7520dfe544b1542b005e8">&#9670;&nbsp;</a></span>HasSufficientBuyingPowerForOrder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classQuantConnect_1_1Securities_1_1HasSufficientBuyingPowerForOrderResult.html">HasSufficientBuyingPowerForOrderResult</a> QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.HasSufficientBuyingPowerForOrder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1HasSufficientPositionGroupBuyingPowerForOrderParameters.html">HasSufficientPositionGroupBuyingPowerForOrderParameters</a>&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if there is sufficient buying power for the position group to execute this order. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parameters</td><td>An object containing the portfolio, the position group and the order</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns buying power information for an order against a position group</dd></dl>

<p>Implements <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroupBuyingPowerModel.html#a2b0692994e7940735ce13a21234f61c1">QuantConnect.Securities.Positions.IPositionGroupBuyingPowerModel</a>.</p>

<p>Reimplemented in <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1SecurityPositionGroupBuyingPowerModel.html#acb92376d916509d9ca7df9bacf8c307d">QuantConnect.Securities.Positions.SecurityPositionGroupBuyingPowerModel</a>.</p>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00152">152</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_a9443d3b032f7520dfe544b1542b005e8_cgraph.svg" width="100%" height="564"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a6f564c5c992aa07516092f1655209e31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f564c5c992aa07516092f1655209e31">&#9670;&nbsp;</a></span>PassesPositionGroupSpecificBuyingPowerForOrderChecks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classQuantConnect_1_1Securities_1_1HasSufficientBuyingPowerForOrderResult.html">HasSufficientBuyingPowerForOrderResult</a> QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.PassesPositionGroupSpecificBuyingPowerForOrderChecks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1HasSufficientPositionGroupBuyingPowerForOrderParameters.html">HasSufficientPositionGroupBuyingPowerForOrderParameters</a>&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>availableBuyingPower</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Provides a mechanism for derived types to add their own buying power for order checks without needing to recompute the available buying power. Implementations should return null if all checks pass and should return an instance of <a class="el" href="classQuantConnect_1_1Securities_1_1HasSufficientBuyingPowerForOrderResult.html" title="Contains the information returned by IBuyingPowerModel.HasSufficientBuyingPowerForOrder">HasSufficientBuyingPowerForOrderResult</a> with IsSufficient=false if it fails. </p>

<p>Reimplemented in <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1SecurityPositionGroupBuyingPowerModel.html#ab037b52a88b95adcf90710dc25e54534">QuantConnect.Securities.Positions.SecurityPositionGroupBuyingPowerModel</a>.</p>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00203">203</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_a6f564c5c992aa07516092f1655209e31_icgraph.svg" width="627" height="82"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9306785e8b001829233b64cd9a6d3d1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9306785e8b001829233b64cd9a6d3d1e">&#9670;&nbsp;</a></span>GetReservedBuyingPowerForPositionGroup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1ReservedBuyingPowerForPositionGroup.html">ReservedBuyingPowerForPositionGroup</a> QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.GetReservedBuyingPowerForPositionGroup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1ReservedBuyingPowerForPositionGroupParameters.html">ReservedBuyingPowerForPositionGroupParameters</a>&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the amount of buying power reserved by the provided position group </p>

<p>Implements <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroupBuyingPowerModel.html#a9c767ae84e3cee14b9593e38bc1635be">QuantConnect.Securities.Positions.IPositionGroupBuyingPowerModel</a>.</p>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00214">214</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_a9306785e8b001829233b64cd9a6d3d1e_cgraph.svg" width="612" height="82"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6ffef28c266745b259088113c3b04459"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ffef28c266745b259088113c3b04459">&#9670;&nbsp;</a></span>GetMaximumLotsForTargetBuyingPower()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1GetMaximumLotsResult.html">GetMaximumLotsResult</a> QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.GetMaximumLotsForTargetBuyingPower </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1GetMaximumLotsForTargetBuyingPowerParameters.html">GetMaximumLotsForTargetBuyingPowerParameters</a>&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the maximum position group order quantity to obtain a position with a given buying power percentage. Will not take into account free buying power. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parameters</td><td>An object containing the portfolio, the position group and the target signed buying power percentage</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><p class="startdd">Returns the maximum allowed market order quantity and if zero, also the reason.</p>
<p class="enddd">Since there is no sense of "short" or "long" on position groups with multiple positions, the sign of the returned quantity will indicate the direction of the order regarding the reference position group passed in the parameters:</p><ul>
<li>quantity &gt; 0: the order should be placed in the same direction as the reference position group to increase it, without changing the positions' signs.</li>
<li>quantity &lt; 0: the order should be placed in the opposite direction as the reference position group to reduce it, using each position's opposite sign. </li>
</ul>
</dd></dl>

<p>Implements <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroupBuyingPowerModel.html#ad9b3419d94d2c584a9706bfe14b7e260">QuantConnect.Securities.Positions.IPositionGroupBuyingPowerModel</a>.</p>

<p>Reimplemented in <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1SecurityPositionGroupBuyingPowerModel.html#a155313b8356770e068b60746157fbc35">QuantConnect.Securities.Positions.SecurityPositionGroupBuyingPowerModel</a>.</p>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00238">238</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_a6ffef28c266745b259088113c3b04459_cgraph.svg" width="100%" height="590"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_a6ffef28c266745b259088113c3b04459_icgraph.svg" width="100%" height="361"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="abc9b4d24eebe829eda4d4fe1e4b10126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc9b4d24eebe829eda4d4fe1e4b10126">&#9670;&nbsp;</a></span>GetMaximumLotsForDeltaBuyingPower()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1GetMaximumLotsResult.html">GetMaximumLotsResult</a> QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.GetMaximumLotsForDeltaBuyingPower </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1GetMaximumLotsForDeltaBuyingPowerParameters.html">GetMaximumLotsForDeltaBuyingPowerParameters</a>&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the maximum market position group order quantity to obtain a delta in the buying power used by a position group. The deltas sign defines the position side to apply it to, positive long, negative short. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parameters</td><td>An object containing the portfolio, the position group and the delta buying power</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the maximum allowed market order quantity and if zero, also the reason</dd></dl>
<p>Used by the margin call model to reduce the position by a delta percent.</p>

<p>Implements <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroupBuyingPowerModel.html#a448c1a6d1e137f183da0a6f500f3993f">QuantConnect.Securities.Positions.IPositionGroupBuyingPowerModel</a>.</p>

<p>Reimplemented in <a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1SecurityPositionGroupBuyingPowerModel.html#a2f00f1d0d1b55ee6c9d72d62aad41739">QuantConnect.Securities.Positions.SecurityPositionGroupBuyingPowerModel</a>.</p>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00382">382</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_abc9b4d24eebe829eda4d4fe1e4b10126_cgraph.svg" width="100%" height="590"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a53f72f99e03b8f529f64d92566a2e265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53f72f99e03b8f529f64d92566a2e265">&#9670;&nbsp;</a></span>GetPositionGroupBuyingPower()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPower.html">PositionGroupBuyingPower</a> QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.GetPositionGroupBuyingPower </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerParameters.html">PositionGroupBuyingPowerParameters</a>&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the buying power available for a position group trade </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parameters</td><td>A parameters object containing the algorithm's portfolio, security, and order direction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The buying power available for the trade</dd></dl>

<p>Implements <a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroupBuyingPowerModel.html#a4717029de152ae2d89411a5d8407f2be">QuantConnect.Securities.Positions.IPositionGroupBuyingPowerModel</a>.</p>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00417">417</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_a53f72f99e03b8f529f64d92566a2e265_cgraph.svg" width="659" height="82"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa1af0926a15a0ee69add961a20e47f8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1af0926a15a0ee69add961a20e47f8b">&#9670;&nbsp;</a></span>ToAccountCurrency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual decimal QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.ToAccountCurrency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuantConnect_1_1Securities_1_1SecurityPortfolioManager.html">SecurityPortfolioManager</a>&#160;</td>
          <td class="paramname"><em>portfolio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structQuantConnect_1_1Securities_1_1CashAmount.html">CashAmount</a>&#160;</td>
          <td class="paramname"><em>cash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function to convert a <a class="el" href="structQuantConnect_1_1Securities_1_1CashAmount.html" title="Represents a cash amount which can be converted to account currency using a currency converter">CashAmount</a> to the account currency </p>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00457">457</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_aa1af0926a15a0ee69add961a20e47f8b_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_aa1af0926a15a0ee69add961a20e47f8b_icgraph.svg" width="100%" height="361"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0abd65c6e261960e78a710ee75b79143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0abd65c6e261960e78a710ee75b79143">&#9670;&nbsp;</a></span>GetOrderFeeInAccountCurrency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual decimal QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.GetOrderFeeInAccountCurrency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuantConnect_1_1Securities_1_1SecurityPortfolioManager.html">SecurityPortfolioManager</a>&#160;</td>
          <td class="paramname"><em>portfolio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroup.html">IPositionGroup</a>&#160;</td>
          <td class="paramname"><em>positionGroup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function to compute the order fees associated with executing market orders for the specified <em>positionGroup</em>  </p>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00465">465</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_a0abd65c6e261960e78a710ee75b79143_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_a0abd65c6e261960e78a710ee75b79143_icgraph.svg" width="100%" height="361"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a9d3b06b5a2fbdfcd174be1292eade9d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d3b06b5a2fbdfcd174be1292eade9d3">&#9670;&nbsp;</a></span>UnableToConverge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.UnableToConverge </td>
          <td>(</td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>currentMarginDifference</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>lastMarginDifference</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroup.html">IPositionGroup</a>&#160;</td>
          <td class="paramname"><em>groupUnit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQuantConnect_1_1Securities_1_1SecurityPortfolioManager.html">SecurityPortfolioManager</a>&#160;</td>
          <td class="paramname"><em>portfolio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>positionGroupQuantity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>targetMargin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>currentMargin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>absUnitMargin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out ArgumentException&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the margin difference is not growing in final margin calculation, just making sure we don't end up in an infinite loop. This function was split out to support derived types using the same error message as well as removing the added noise of the check and message creation. </p>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00488">488</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_a9d3b06b5a2fbdfcd174be1292eade9d3_icgraph.svg" width="100%" height="361"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a758a61819084622bceef7aa84483dd49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a758a61819084622bceef7aa84483dd49">&#9670;&nbsp;</a></span>Equals() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.Equals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroupBuyingPowerModel.html">IPositionGroupBuyingPowerModel</a>&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates whether the current object is equal to another object of the same type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>An object to compare with this object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the current object is equal to the <em>other</em>  parameter; otherwise, false.</dd></dl>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00526">526</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_a758a61819084622bceef7aa84483dd49_icgraph.svg" width="502" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a306e790a5d3aa3ccabaf22c76ae5468f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a306e790a5d3aa3ccabaf22c76ae5468f">&#9670;&nbsp;</a></span>Equals() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override bool QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.Equals </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether the specified object is equal to the current object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>The object to compare with the current object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the specified object is equal to the current object; otherwise, false.</dd></dl>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00544">544</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_a306e790a5d3aa3ccabaf22c76ae5468f_cgraph.svg" width="502" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ac5aaf61641333aa05d3abd0a964b4c65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5aaf61641333aa05d3abd0a964b4c65">&#9670;&nbsp;</a></span>GetHashCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">override int QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.GetHashCode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serves as the default hash function. </p>
<dl class="section return"><dt>Returns</dt><dd>A hash code for the current object.</dd></dl>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00566">566</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>

</div>
</div>
<a id="ae7185827d6383c14ab673bffe0ccbc6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7185827d6383c14ab673bffe0ccbc6f">&#9670;&nbsp;</a></span>GetPositionGroupOrderQuantity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">decimal QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.GetPositionGroupOrderQuantity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuantConnect_1_1Securities_1_1SecurityPortfolioManager.html">SecurityPortfolioManager</a>&#160;</td>
          <td class="paramname"><em>portfolio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroup.html">IPositionGroup</a>&#160;</td>
          <td class="paramname"><em>currentPositionGroup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>currentUsedMargin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>targetFinalMargin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceQuantConnect_1_1Securities_1_1Positions_1_1IPositionGroup.html">IPositionGroup</a>&#160;</td>
          <td class="paramname"><em>groupUnit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">decimal&#160;</td>
          <td class="paramname"><em>unitMargin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out decimal&#160;</td>
          <td class="paramname"><em>finalMargin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper method that determines the amount to order to get to a given target safely. Meaning it will either be at or just below target always. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">portfolio</td><td>Current portfolio</td></tr>
    <tr><td class="paramname">currentPositionGroup</td><td>Current position group</td></tr>
    <tr><td class="paramname">currentUsedMargin</td><td>Current margin reserved for the position</td></tr>
    <tr><td class="paramname">targetFinalMargin</td><td>The target margin</td></tr>
    <tr><td class="paramname">groupUnit</td><td>Unit position group corresponding to the <em>currentPositionGroup</em> </td></tr>
    <tr><td class="paramname">unitMargin</td><td>Margin required for the <em>groupUnit</em> </td></tr>
    <tr><td class="paramname">finalMargin</td><td>Output the final margin allocated for the position group&lt;/param <dl class="section return"><dt>Returns</dt><dd>The size of the order to get safely to our target</dd></dl>
</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00583">583</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_ae7185827d6383c14ab673bffe0ccbc6f_cgraph.svg" width="599" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel_ae7185827d6383c14ab673bffe0ccbc6f_icgraph.svg" width="100%" height="361"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="aaddb910fcd1299e65d8dd420cd565d24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaddb910fcd1299e65d8dd420cd565d24">&#9670;&nbsp;</a></span>RequiredFreeBuyingPowerPercent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">decimal QuantConnect.Securities.Positions.PositionGroupBuyingPowerModel.RequiredFreeBuyingPowerPercent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the percentage of portfolio buying power to leave as a buffer </p>

<p class="definition">Definition at line <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html#l00034">34</a> of file <a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Common/Securities/Positions/<a class="el" href="PositionGroupBuyingPowerModel_8cs_source.html">PositionGroupBuyingPowerModel.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceQuantConnect.html">QuantConnect</a></li><li class="navelem"><a class="el" href="namespaceQuantConnect_1_1Securities.html">Securities</a></li><li class="navelem"><a class="el" href="namespaceQuantConnect_1_1Securities_1_1Positions.html">Positions</a></li><li class="navelem"><a class="el" href="classQuantConnect_1_1Securities_1_1Positions_1_1PositionGroupBuyingPowerModel.html">PositionGroupBuyingPowerModel</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
