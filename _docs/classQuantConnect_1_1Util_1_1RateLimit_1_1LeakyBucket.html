<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lean: QuantConnect.Util.RateLimit.LeakyBucket Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lean
   &#160;<span id="projectnumber">$LEAN_TAG$</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QuantConnect.Util.RateLimit.LeakyBucket Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides an implementation of <a class="el" href="interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket.html" title="Defines a token bucket for rate limiting See: https://en.wikipedia.org/wiki/Token_bucket">ITokenBucket</a> that implements the leaky bucket algorithm See: <a href="https://en.wikipedia.org/wiki/Leaky_bucket">https://en.wikipedia.org/wiki/Leaky_bucket</a>  
 <a href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for QuantConnect.Util.RateLimit.LeakyBucket:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket__inherit__graph.svg" width="223" height="127"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3f44aa8a3b708247e0580ac0c3f2ff64"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html#a3f44aa8a3b708247e0580ac0c3f2ff64">LeakyBucket</a> (long capacity, long refillAmount, TimeSpan refillInterval)</td></tr>
<tr class="memdesc:a3f44aa8a3b708247e0580ac0c3f2ff64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new instance of the <a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html" title="Provides an implementation of ITokenBucket that implements the leaky bucket algorithm See: https://en...">LeakyBucket</a> class. This constructor initializes the bucket using the <a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1ThreadSleepStrategy.html#afb91f0b79a81adde05e297ffadbf31f5" title="Sleeps the current thread using the initialized number of milliseconds">ThreadSleepStrategy.Sleep</a> with a 1 millisecond sleep to prevent being CPU intensive and uses the <a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1FixedIntervalRefillStrategy.html" title="Provides a refill strategy that has a constant, quantized refill rate. For example,...">FixedIntervalRefillStrategy</a> to refill bucket tokens according to the <em>refillAmount</em>  and <em>refillInterval</em>  parameters.  <a href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html#a3f44aa8a3b708247e0580ac0c3f2ff64">More...</a><br /></td></tr>
<tr class="separator:a3f44aa8a3b708247e0580ac0c3f2ff64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e59a8205260c158faee68e22eccb20"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html#af4e59a8205260c158faee68e22eccb20">LeakyBucket</a> (long capacity, <a class="el" href="interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ISleepStrategy.html">ISleepStrategy</a> sleep, <a class="el" href="interfaceQuantConnect_1_1Util_1_1RateLimit_1_1IRefillStrategy.html">IRefillStrategy</a> refill, <a class="el" href="interfaceQuantConnect_1_1ITimeProvider.html">ITimeProvider</a> timeProvider=null)</td></tr>
<tr class="memdesc:af4e59a8205260c158faee68e22eccb20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a new instance of the <a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html" title="Provides an implementation of ITokenBucket that implements the leaky bucket algorithm See: https://en...">LeakyBucket</a> class  <a href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html#af4e59a8205260c158faee68e22eccb20">More...</a><br /></td></tr>
<tr class="separator:af4e59a8205260c158faee68e22eccb20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af38d9ac405bd0caf7ac0e9b255702f7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html#af38d9ac405bd0caf7ac0e9b255702f7d">Consume</a> (long tokens, long timeout=Timeout.Infinite)</td></tr>
<tr class="memdesc:af38d9ac405bd0caf7ac0e9b255702f7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blocks until the specified number of tokens are available for consumption and then consumes that number of tokens.  <a href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html#af38d9ac405bd0caf7ac0e9b255702f7d">More...</a><br /></td></tr>
<tr class="separator:af38d9ac405bd0caf7ac0e9b255702f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f9147619d59fca80d47ee80a567d1b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html#a10f9147619d59fca80d47ee80a567d1b">TryConsume</a> (long tokens)</td></tr>
<tr class="memdesc:a10f9147619d59fca80d47ee80a567d1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to consume the specified number of tokens from the bucket. If the requested number of tokens are not immediately available, then this method will return false to indicate that zero tokens have been consumed.  <a href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html#a10f9147619d59fca80d47ee80a567d1b">More...</a><br /></td></tr>
<tr class="separator:a10f9147619d59fca80d47ee80a567d1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:ae76b1eae83e7953db2593e498406a8e4"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html#ae76b1eae83e7953db2593e498406a8e4">Capacity</a><code> [get]</code></td></tr>
<tr class="memdesc:ae76b1eae83e7953db2593e498406a8e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the maximum capacity of tokens this bucket can hold.  <a href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html#ae76b1eae83e7953db2593e498406a8e4">More...</a><br /></td></tr>
<tr class="separator:ae76b1eae83e7953db2593e498406a8e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a237f44e6d11fcf84cade73a95d875c41"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html#a237f44e6d11fcf84cade73a95d875c41">AvailableTokens</a><code> [get]</code></td></tr>
<tr class="memdesc:a237f44e6d11fcf84cade73a95d875c41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the total number of currently available tokens for consumption  <a href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html#a237f44e6d11fcf84cade73a95d875c41">More...</a><br /></td></tr>
<tr class="separator:a237f44e6d11fcf84cade73a95d875c41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header properties_interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket"><td colspan="2" onclick="javascript:toggleInherit('properties_interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket')"><img src="closed.png" alt="-"/>&#160;Properties inherited from <a class="el" href="interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket.html">QuantConnect.Util.RateLimit.ITokenBucket</a></td></tr>
<tr class="memitem:a38293ccc6147a5b8da9aaa90ed78f7f5 inherit properties_interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket.html#a38293ccc6147a5b8da9aaa90ed78f7f5">Capacity</a><code> [get]</code></td></tr>
<tr class="memdesc:a38293ccc6147a5b8da9aaa90ed78f7f5 inherit properties_interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the maximum capacity of tokens this bucket can hold.  <a href="interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket.html#a38293ccc6147a5b8da9aaa90ed78f7f5">More...</a><br /></td></tr>
<tr class="separator:a38293ccc6147a5b8da9aaa90ed78f7f5 inherit properties_interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46150ccc7118704c44a905d1f00545aa inherit properties_interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket.html#a46150ccc7118704c44a905d1f00545aa">AvailableTokens</a><code> [get]</code></td></tr>
<tr class="memdesc:a46150ccc7118704c44a905d1f00545aa inherit properties_interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the total number of currently available tokens for consumption  <a href="interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket.html#a46150ccc7118704c44a905d1f00545aa">More...</a><br /></td></tr>
<tr class="separator:a46150ccc7118704c44a905d1f00545aa inherit properties_interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides an implementation of <a class="el" href="interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket.html" title="Defines a token bucket for rate limiting See: https://en.wikipedia.org/wiki/Token_bucket">ITokenBucket</a> that implements the leaky bucket algorithm See: <a href="https://en.wikipedia.org/wiki/Leaky_bucket">https://en.wikipedia.org/wiki/Leaky_bucket</a> </p>

<p class="definition">Definition at line <a class="el" href="LeakyBucket_8cs_source.html#l00025">25</a> of file <a class="el" href="LeakyBucket_8cs_source.html">LeakyBucket.cs</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3f44aa8a3b708247e0580ac0c3f2ff64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f44aa8a3b708247e0580ac0c3f2ff64">&#9670;&nbsp;</a></span>LeakyBucket() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QuantConnect.Util.RateLimit.LeakyBucket.LeakyBucket </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>refillAmount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TimeSpan&#160;</td>
          <td class="paramname"><em>refillInterval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a new instance of the <a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html" title="Provides an implementation of ITokenBucket that implements the leaky bucket algorithm See: https://en...">LeakyBucket</a> class. This constructor initializes the bucket using the <a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1ThreadSleepStrategy.html#afb91f0b79a81adde05e297ffadbf31f5" title="Sleeps the current thread using the initialized number of milliseconds">ThreadSleepStrategy.Sleep</a> with a 1 millisecond sleep to prevent being CPU intensive and uses the <a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1FixedIntervalRefillStrategy.html" title="Provides a refill strategy that has a constant, quantized refill rate. For example,...">FixedIntervalRefillStrategy</a> to refill bucket tokens according to the <em>refillAmount</em>  and <em>refillInterval</em>  parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">capacity</td><td>The maximum number of tokens this bucket can hold</td></tr>
    <tr><td class="paramname">refillAmount</td><td>The number of tokens to add to the bucket each <em>refillInterval</em> </td></tr>
    <tr><td class="paramname">refillInterval</td><td>The interval which after passing more tokens are added to the bucket</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="LeakyBucket_8cs_source.html#l00057">57</a> of file <a class="el" href="LeakyBucket_8cs_source.html">LeakyBucket.cs</a>.</p>

</div>
</div>
<a id="af4e59a8205260c158faee68e22eccb20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4e59a8205260c158faee68e22eccb20">&#9670;&nbsp;</a></span>LeakyBucket() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QuantConnect.Util.RateLimit.LeakyBucket.LeakyBucket </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>capacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ISleepStrategy.html">ISleepStrategy</a>&#160;</td>
          <td class="paramname"><em>sleep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceQuantConnect_1_1Util_1_1RateLimit_1_1IRefillStrategy.html">IRefillStrategy</a>&#160;</td>
          <td class="paramname"><em>refill</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceQuantConnect_1_1ITimeProvider.html">ITimeProvider</a>&#160;</td>
          <td class="paramname"><em>timeProvider</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a new instance of the <a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html" title="Provides an implementation of ITokenBucket that implements the leaky bucket algorithm See: https://en...">LeakyBucket</a> class </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">capacity</td><td>The maximum number of tokens this bucket can hold</td></tr>
    <tr><td class="paramname">sleep</td><td>Defines the <a class="el" href="interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ISleepStrategy.html" title="Defines a strategy for sleeping the current thread of execution. This is currently used via the IToke...">ISleepStrategy</a> used when <a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html#af38d9ac405bd0caf7ac0e9b255702f7d" title="Blocks until the specified number of tokens are available for consumption and then consumes that numb...">Consume</a> is invoked but the bucket does not have enough tokens yet</td></tr>
    <tr><td class="paramname">refill</td><td>Defines the <a class="el" href="interfaceQuantConnect_1_1Util_1_1RateLimit_1_1IRefillStrategy.html" title="Provides a strategy for making tokens available for consumption in the ITokenBucket">IRefillStrategy</a> that computes how many tokens to add back to the bucket each time consumption is attempted</td></tr>
    <tr><td class="paramname">timeProvider</td><td>Defines the <a class="el" href="interfaceQuantConnect_1_1ITimeProvider.html" title="Provides access to the current time in UTC. This doesn&#39;t necessarily need to be wall-clock time,...">ITimeProvider</a> used to enforce timeouts when invoking <a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html#af38d9ac405bd0caf7ac0e9b255702f7d" title="Blocks until the specified number of tokens are available for consumption and then consumes that numb...">Consume</a></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="LeakyBucket_8cs_source.html#l00074">74</a> of file <a class="el" href="LeakyBucket_8cs_source.html">LeakyBucket.cs</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af38d9ac405bd0caf7ac0e9b255702f7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af38d9ac405bd0caf7ac0e9b255702f7d">&#9670;&nbsp;</a></span>Consume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QuantConnect.Util.RateLimit.LeakyBucket.Consume </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>tokens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>Timeout.Infinite</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blocks until the specified number of tokens are available for consumption and then consumes that number of tokens. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tokens</td><td>The number of tokens to consume</td></tr>
    <tr><td class="paramname">timeout</td><td>The maximum amount of time, in milliseconds, to block. An exception is throw in the event it takes longer than the stated timeout to consume the requested number of tokens</td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket.html#a81a78bec34363645845d6691f3e3ceea">QuantConnect.Util.RateLimit.ITokenBucket</a>.</p>

<p class="definition">Definition at line <a class="el" href="LeakyBucket_8cs_source.html#l00091">91</a> of file <a class="el" href="LeakyBucket_8cs_source.html">LeakyBucket.cs</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket_af38d9ac405bd0caf7ac0e9b255702f7d_cgraph.svg" width="483" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a10f9147619d59fca80d47ee80a567d1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10f9147619d59fca80d47ee80a567d1b">&#9670;&nbsp;</a></span>TryConsume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool QuantConnect.Util.RateLimit.LeakyBucket.TryConsume </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>tokens</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempts to consume the specified number of tokens from the bucket. If the requested number of tokens are not immediately available, then this method will return false to indicate that zero tokens have been consumed. </p>

<p>Implements <a class="el" href="interfaceQuantConnect_1_1Util_1_1RateLimit_1_1ITokenBucket.html#a74f90dbaad804df8917b4b0db2d5508f">QuantConnect.Util.RateLimit.ITokenBucket</a>.</p>

<p class="definition">Definition at line <a class="el" href="LeakyBucket_8cs_source.html#l00130">130</a> of file <a class="el" href="LeakyBucket_8cs_source.html">LeakyBucket.cs</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket_a10f9147619d59fca80d47ee80a567d1b_icgraph.svg" width="483" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="ae76b1eae83e7953db2593e498406a8e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae76b1eae83e7953db2593e498406a8e4">&#9670;&nbsp;</a></span>Capacity</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long QuantConnect.Util.RateLimit.LeakyBucket.Capacity</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the maximum capacity of tokens this bucket can hold. </p>

<p class="definition">Definition at line <a class="el" href="LeakyBucket_8cs_source.html#l00037">37</a> of file <a class="el" href="LeakyBucket_8cs_source.html">LeakyBucket.cs</a>.</p>

</div>
</div>
<a id="a237f44e6d11fcf84cade73a95d875c41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a237f44e6d11fcf84cade73a95d875c41">&#9670;&nbsp;</a></span>AvailableTokens</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long QuantConnect.Util.RateLimit.LeakyBucket.AvailableTokens</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the total number of currently available tokens for consumption </p>

<p class="definition">Definition at line <a class="el" href="LeakyBucket_8cs_source.html#l00043">43</a> of file <a class="el" href="LeakyBucket_8cs_source.html">LeakyBucket.cs</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Common/Util/RateLimit/<a class="el" href="LeakyBucket_8cs_source.html">LeakyBucket.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceQuantConnect.html">QuantConnect</a></li><li class="navelem"><a class="el" href="namespaceQuantConnect_1_1Util.html">Util</a></li><li class="navelem"><a class="el" href="namespaceQuantConnect_1_1Util_1_1RateLimit.html">RateLimit</a></li><li class="navelem"><a class="el" href="classQuantConnect_1_1Util_1_1RateLimit_1_1LeakyBucket.html">LeakyBucket</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
