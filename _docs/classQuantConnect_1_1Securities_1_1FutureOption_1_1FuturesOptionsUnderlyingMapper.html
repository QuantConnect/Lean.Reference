<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lean: QuantConnect.Securities.FutureOption.FuturesOptionsUnderlyingMapper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lean
   &#160;<span id="projectnumber">$LEAN_TAG$</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classQuantConnect_1_1Securities_1_1FutureOption_1_1FuturesOptionsUnderlyingMapper.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classQuantConnect_1_1Securities_1_1FutureOption_1_1FuturesOptionsUnderlyingMapper-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QuantConnect.Securities.FutureOption.FuturesOptionsUnderlyingMapper Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Creates the underlying Symbol that corresponds to a futures options contract  
 <a href="classQuantConnect_1_1Securities_1_1FutureOption_1_1FuturesOptionsUnderlyingMapper.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ae2c92cb1e17d9457a9408cf7799964fd"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classQuantConnect_1_1Symbol.html">Symbol</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantConnect_1_1Securities_1_1FutureOption_1_1FuturesOptionsUnderlyingMapper.html#ae2c92cb1e17d9457a9408cf7799964fd">GetUnderlyingFutureFromFutureOption</a> (string futureOptionTicker, string market, DateTime futureOptionExpiration, DateTime? date=null)</td></tr>
<tr class="memdesc:ae2c92cb1e17d9457a9408cf7799964fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the FOP's underlying Future. The underlying Future's contract month might not match the contract month of the Future Option when providing CBOT or COMEX based FOPs contracts to this method.  <a href="classQuantConnect_1_1Securities_1_1FutureOption_1_1FuturesOptionsUnderlyingMapper.html#ae2c92cb1e17d9457a9408cf7799964fd">More...</a><br /></td></tr>
<tr class="separator:ae2c92cb1e17d9457a9408cf7799964fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Creates the underlying Symbol that corresponds to a futures options contract </p>
<p>Because there can exist futures options (FOP) contracts that have an underlying Future that does not have the same contract month as FOPs contract month, we need a way to resolve the underlying Symbol of the FOP to the specific future contract it belongs to.</p>
<p>Luckily, these FOPs all follow a pattern as to how the underlying is determined. The method <a class="el" href="classQuantConnect_1_1Securities_1_1FutureOption_1_1FuturesOptionsUnderlyingMapper.html#ae2c92cb1e17d9457a9408cf7799964fd" title="Gets the FOP&#39;s underlying Future. The underlying Future&#39;s contract month might not match the contract...">GetUnderlyingFutureFromFutureOption</a> will automatically resolve the FOP contract's underlying Future, and will ensure that the rules of the underlying are being followed.</p>
<p>An example of a contract that this happens to is Gold Futures (FUT=GC, FOP=OG). OG FOPs underlying Symbols are not determined by the contract month of the FOP itself, but rather by the closest contract to it in an even month.</p>
<p>Examples: OGH21 would have an underlying of GCJ21 OGJ21 would have an underlying of GCJ21 OGK21 would have an underlying of GCM21 OGM21 would have an underlying of GCM21... </p>

<p class="definition">Definition at line <a class="el" href="FuturesOptionsUnderlyingMapper_8cs_source.html#l00045">45</a> of file <a class="el" href="FuturesOptionsUnderlyingMapper_8cs_source.html">FuturesOptionsUnderlyingMapper.cs</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae2c92cb1e17d9457a9408cf7799964fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2c92cb1e17d9457a9408cf7799964fd">&#9670;&nbsp;</a></span>GetUnderlyingFutureFromFutureOption()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classQuantConnect_1_1Symbol.html">Symbol</a> QuantConnect.Securities.FutureOption.FuturesOptionsUnderlyingMapper.GetUnderlyingFutureFromFutureOption </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>futureOptionTicker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>market</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime&#160;</td>
          <td class="paramname"><em>futureOptionExpiration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime?&#160;</td>
          <td class="paramname"><em>date</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the FOP's underlying Future. The underlying Future's contract month might not match the contract month of the Future Option when providing CBOT or COMEX based FOPs contracts to this method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">futureOptionTicker</td><td>Future option ticker</td></tr>
    <tr><td class="paramname">market</td><td>Market of the Future Option</td></tr>
    <tr><td class="paramname">futureOptionExpiration</td><td>Expiration date of the future option</td></tr>
    <tr><td class="paramname">date</td><td>Date to search the future chain provider with. Optional, but required for CBOT based contracts</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Symbol if there is an underlying for the FOP, null if there's no underlying found for the Future Option</dd></dl>

<p class="definition">Definition at line <a class="el" href="FuturesOptionsUnderlyingMapper_8cs_source.html#l00090">90</a> of file <a class="el" href="FuturesOptionsUnderlyingMapper_8cs_source.html">FuturesOptionsUnderlyingMapper.cs</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classQuantConnect_1_1Securities_1_1FutureOption_1_1FuturesOptionsUnderlyingMapper_ae2c92cb1e17d9457a9408cf7799964fd_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Common/Securities/FutureOption/<a class="el" href="FuturesOptionsUnderlyingMapper_8cs_source.html">FuturesOptionsUnderlyingMapper.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceQuantConnect.html">QuantConnect</a></li><li class="navelem"><a class="el" href="namespaceQuantConnect_1_1Securities.html">Securities</a></li><li class="navelem"><a class="el" href="namespaceQuantConnect_1_1Securities_1_1FutureOption.html">FutureOption</a></li><li class="navelem"><a class="el" href="classQuantConnect_1_1Securities_1_1FutureOption_1_1FuturesOptionsUnderlyingMapper.html">FuturesOptionsUnderlyingMapper</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
